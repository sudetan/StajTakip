@model IEnumerable<Staj1.Models.KullaniciRol>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<script>
    function OgrenciKaydiSil(id) {
        if (confirm('Öğrenci Kaydı Silinsin mi?')) {
            var model = {
                "id": id
            };
            $.ajax({
                url: '/Admin/OgrenciKaydiSil',
                type: "POST",
                data: model,
                success: function (result) {
                    location.reload();
                }
            });
        }
    }
</script>

@*<script>
        function OgrenciKaydiSil(id) {
            if (confirm('Öğrenci Kaydı Silinsin mi?')) {
                var model = {
                    "id": id
                };
                $.ajax({
                    url: '/Admin/OgrenciKaydiSil',
                    type: "POST",
                    data: model,
                    success: function (result) {
                        location.reload();
                    }
                });
            }
        }
    </script>*@

<br />

@if (User.IsInRole("Admin") || User.IsInRole("SuperAdmin") || User.IsInRole("Komisyon"))
{
    <p style="text-align: center;font-size:19px"><a style="font-weight: bold;color:black">Açıklama:</a> Kayıtlı olan tüm kullanıcılar ve bu kullanıcılara ait bilgilere aşağıdaki listeden ulaşabilirsiniz.</p>

    <br />
    <br />

    <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Adı Soyadı</th>
                <th>Numara</th>
                <th>Mail</th>
                <th>Admin</th>
                <th>Kayıt Tarihi</th>
                <th>Staj Durum</th>
                <th>Belge Görüntüle</th>
                <th>Onaylayan</th>
                <th style="text-align:center;width:100px;">Düzenle</th>
            </tr>
        </thead>
        <tbody>

            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    <input name="id" type="hidden" value="@item.KullaniciID" />

                    <tr style="font-size: 17px">

                        <td style="">@item.Kullanici.Adi @item.Kullanici.Soyadi</td>
                        <td style="">@item.Kullanici.Numara</td>
                        <td style="">@item.Kullanici.Mail</td>
                        <td style="">@item.Kullanici.Adres</td>
                        <td style="">@item.Kullanici.KayıtTarihi</td>


                        @if (item.Kullanici.StajDurum.StajDurumID == 5)
                        {
                            <td style="font-weight:bold;font-style:italic;color:red">@item.Kullanici.StajDurum.StajDurumAdi</td>
                        }
                        @if (item.Kullanici.StajDurum.StajDurumID == 3)
                        {
                            <td style="font-weight:bold;font-style:italic;color:gold">@item.Kullanici.StajDurum.StajDurumAdi</td>
                        }
                        @if (item.Kullanici.StajDurum.StajDurumID == 2)
                        {
                            <td style="font-weight:bold;font-style:italic;color:blue">@item.Kullanici.StajDurum.StajDurumAdi</td>
                        }
                        @if (item.Kullanici.StajDurum.StajDurumID == 1)
                        {
                            <td style="font-weight:bold;font-style:italic;color:green">@item.Kullanici.StajDurum.StajDurumAdi</td>
                        }
                        <a href="~/Views/Home/StajBilgilendirme.cshtml">~/Views/Home/StajBilgilendirme.cshtml</a>
                        @if (item.Kullanici.StajDurum.StajDurumID == 4)
                        {
                            <td style="font-weight:bold;font-style:italic;color:orange">@item.Kullanici.StajDurum.StajDurumAdi</td>
                        }
                        @if (item.Kullanici.StajDurum.StajDurumID == 8)
                        {
                            <td style="font-weight:bold;font-style:italic;color:purple">@item.Kullanici.StajDurum.StajDurumAdi</td>
                        }

                        <td style=""><a href="/Admin/BasvuruDosyalari" style="">Staj Evraklarını Görüntüle </a></td>

                        @if (item.Kullanici.BasvuruyuDegerlendiren == null)
                        {
                            <td style="">Başvuru Değerlendirilmedi</td>
                        }
                        @if (item.Kullanici.BasvuruyuDegerlendiren != null)
                        {
                            <td style="">@item.Kullanici.BasvuruyuDegerlendiren</td>
                        }

                        <td>

                            <a href="https://localhost:44374/Admin/BasvuruDosyalari">
                                <button type="button" class="btn btn-primary btn-xs dt-edit" style="margin-right:16px;">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>

                                </button>
                            </a>
                            <button type="button" class="btn btn-danger btn-xs dt-delete">

                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>

                            </button>

                        </td>



                    </tr>
                }
            }
        </tbody>
    </table>
    <br />
    <br />
}
@if (User.IsInRole("Kullanici"))
{

    <br />
    <h1 style="font-weight: bold; text-align:center">Kocaeli Üniversitesi Staj Takip Programına Hoşgeldiniz</h1>
    <hr />
    <h2 style=" text-align: center">Kullanıcı paneli üzerinden staj ile ilgili gerekli işlemlerinizi gerçekleştirebilirsiniz.</h2>
    <br />
}


